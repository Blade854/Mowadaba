# توثيق الكود المصدري لنظام إدارة المدرسة


هذا المستند يوثق الكود المصدري لنظام إدارة المدرسة. يتضمن وصفاً لكل وحدة وملف في المشروع، مع شرح للوظائف والفئات الرئيسية.

## هيكل المشروع

```
school_management/
├── src/                    # الكود المصدري
│   ├── controllers/        # وحدات التحكم
│   ├── models/             # نماذج قاعدة البيانات
│   ├── views/              # واجهات المستخدم
│   ├── utils/              # أدوات مساعدة
│   ├── resources/          # موارد (صور، أيقونات، خطوط)
│   ├── tests/              # اختبارات
│   └── main.py             # نقطة الدخول الرئيسية
├── docs/                   # الوثائق
├── dist/                   # ملفات التوزيع
├── build/                  # ملفات البناء
├── installer/              # ملفات التثبيت
└── README.md               # ملف القراءة
```

## الملفات الرئيسية

### main.py

نقطة الدخول الرئيسية للتطبيق. يقوم بتهيئة قاعدة البيانات وإطلاق واجهة المستخدم الرئيسية.

**الوظائف الرئيسية:**

- `__init__`: الدالة الرئيسية للتطبيق
- `main`: الدالة الرئيسية للتطبيق

## نماذج قاعدة البيانات (models/)

يحتوي مجلد `models` على نماذج قاعدة البيانات للتطبيق.

### database.py

تعديل وظيفة تهيئة قاعدة البيانات لدعم وضع الاختبار

**الفئات:**

- `Student`: نموذج التلميذ
- `Teacher`: نموذج الأستاذ
- `Staff`: نموذج العامل
- `MedicalCertificate`: نموذج الشهادة الطبية
- `Action`: نموذج الإجراء المتخذ
- `BehaviorReport`: نموذج التقرير السلوكي
- `ParentSummon`: نموذج استدعاء الولي

**الوظائف:**

- `init_db`: تهيئة قاعدة البيانات


## وحدات التحكم (controllers/)

يحتوي مجلد `controllers` على وحدات التحكم للتطبيق.

### behavior_report_controller.py

تعديل وحدة التحكم في التقارير السلوكية لنظام إدارة المدرسة

**الفئات:**

- `BehaviorReportController`: وحدة التحكم في التقارير السلوكية

### medical_certificate_controller.py

وحدة التحكم في الشهادات الطبية لنظام إدارة المدرسة

**الفئات:**

- `MedicalCertificateController`: وحدة التحكم في الشهادات الطبية

### parent_summon_controller.py

وحدة التحكم في استدعاءات الأولياء لنظام إدارة المدرسة

**الفئات:**

- `ParentSummonController`: وحدة التحكم في استدعاءات الأولياء

### student_controller.py

وحدة التحكم في التلاميذ لنظام إدارة المدرسة

**الفئات:**

- `StudentController`: وحدة التحكم في التلاميذ

### teacher_controller.py

وحدة التحكم في الأساتذة لنظام إدارة المدرسة

**الفئات:**

- `TeacherController`: وحدة التحكم في الأساتذة


## واجهات المستخدم (views/)

يحتوي مجلد `views` على واجهات المستخدم للتطبيق.

### behavior_report.py

واجهة إدارة التقارير السلوكية لنظام إدارة المدرسة

**الفئات:**

- `BehaviorReportWidget`: واجهة إدارة التقارير السلوكية
- `BehaviorReportDialog`: نافذة إضافة/تعديل تقرير سلوكي

### main_window.py

الواجهة الرئيسية لنظام إدارة المدرسة

**الفئات:**

- `MainWindow`: الواجهة الرئيسية للتطبيق

### medical_certificate.py

واجهة إدارة الشهادات الطبية لنظام إدارة المدرسة

**الفئات:**

- `MedicalCertificateWidget`: واجهة إدارة الشهادات الطبية
- `MedicalCertificateDialog`: نافذة إضافة/تعديل شهادة طبية

### parent_summon.py

واجهة إدارة استدعاءات الأولياء لنظام إدارة المدرسة

**الفئات:**

- `ParentSummonWidget`: واجهة إدارة استدعاءات الأولياء
- `ParentSummonDialog`: نافذة إضافة/تعديل استدعاء ولي

### student_management.py

واجهة إدارة التلاميذ لنظام إدارة المدرسة

**الفئات:**

- `StudentManagementWidget`: واجهة إدارة التلاميذ
- `StudentDialog`: نافذة إضافة/تعديل تلميذ
- `ColumnMappingDialog`: نافذة تعيين الأعمدة عند استيراد البيانات

### teacher_management.py

واجهة إدارة الأساتذة لنظام إدارة المدرسة

**الفئات:**

- `TeacherManagementWidget`: واجهة إدارة الأساتذة
- `TeacherDialog`: نافذة إضافة/تعديل أستاذ
- `ColumnMappingDialog`: نافذة تعيين الأعمدة عند استيراد البيانات


## أدوات مساعدة (utils/)

يحتوي مجلد `utils` على أدوات مساعدة للتطبيق.

### create_readme.py

سكريبت إنشاء ملف README لنظام إدارة المدرسة

**الوظائف:**

- `create_readme`: إنشاء ملف README للمشروع

### create_user_guide.py

دليل المستخدم لنظام إدارة المدرسة

**الوظائف:**

- `register_arabic_fonts`: إنشاء دليل المستخدم بصيغة PDF
- `arabic_text`: إنشاء دليل المستخدم بصيغة PDF
- `create_user_guide`: إنشاء دليل المستخدم بصيغة PDF

### document_code.py

سكريبت توثيق الكود لنظام إدارة المدرسة

**الوظائف:**

- `document_code`: ## تفاصيل التنفيذ

### helpers.py

وحدة المساعدة لنظام إدارة المدرسة

**الوظائف:**

- `reshape_arabic`: تعيين أعمدة DataFrame إلى أعمدة قاعدة البيانات
- `date_to_qdate`: تعيين أعمدة DataFrame إلى أعمدة قاعدة البيانات
- `qdate_to_date`: تعيين أعمدة DataFrame إلى أعمدة قاعدة البيانات
- `time_to_qtime`: تعيين أعمدة DataFrame إلى أعمدة قاعدة البيانات
- `qtime_to_time`: تعيين أعمدة DataFrame إلى أعمدة قاعدة البيانات
- `show_error`: تعيين أعمدة DataFrame إلى أعمدة قاعدة البيانات
- `show_info`: تعيين أعمدة DataFrame إلى أعمدة قاعدة البيانات
- `show_warning`: تعيين أعمدة DataFrame إلى أعمدة قاعدة البيانات
- `show_question`: تعيين أعمدة DataFrame إلى أعمدة قاعدة البيانات
- `read_excel_file`: تعيين أعمدة DataFrame إلى أعمدة قاعدة البيانات
- `map_columns`: تعيين أعمدة DataFrame إلى أعمدة قاعدة البيانات


## اختبارات (tests/)

يحتوي مجلد `tests` على اختبارات للتطبيق.

### test_import.py

سكريبت اختبار استيراد البيانات من ملفات Excel

**الفئات:**

- `TestImportData`: اختبار وظائف استيراد البيانات

### test_system.py

سكريبت اختبار وظائف نظام إدارة المدرسة

**الفئات:**

- `TestSchoolManagementSystem`: اختبار وظائف نظام إدارة المدرسة

### test_ui.py

سكريبت اختبار واجهات المستخدم لنظام إدارة المدرسة

**الفئات:**

- `TestUserInterface`: اختبار واجهات المستخدم



## تفاصيل التنفيذ

### نمط التصميم

تم تطوير النظام باستخدام نمط التصميم Model-View-Controller (MVC):

- **النماذج (Models)**: تمثل هيكل البيانات وتتعامل مع قاعدة البيانات.
- **العروض (Views)**: تمثل واجهة المستخدم وتعرض البيانات للمستخدم.
- **وحدات التحكم (Controllers)**: تربط بين النماذج والعروض وتحتوي على منطق الأعمال.

### التقنيات المستخدمة

- **Python**: لغة البرمجة الأساسية.
- **PyQt6**: لإنشاء واجهة المستخدم الرسومية.
- **SQLAlchemy**: للتعامل مع قاعدة البيانات بطريقة ORM.
- **SQLite**: كنظام قاعدة بيانات محلي.
- **Pandas**: لمعالجة البيانات واستيراد ملفات Excel.
- **ReportLab**: لإنشاء ملفات PDF وطباعة التقارير.
- **PyInstaller**: لإنشاء ملفات تنفيذية قابلة للتوزيع.

## الخاتمة

هذا التوثيق يقدم نظرة عامة على الكود المصدري لنظام إدارة المدرسة. للحصول على مزيد من التفاصيل حول استخدام النظام، يرجى الرجوع إلى دليل المستخدم.
